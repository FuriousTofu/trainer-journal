{% extends "layout.html" %}

{% block title %}
    {{ session.start_dt|dt_no_seconds }}
{% endblock %}

{% block main %}
    <h2 class="h2">Session with {{ session.client.name }} on {{ session.start_dt|dt_no_seconds }}</h2>
    <form method="post" novalidate class="add-form" id="add-session-form">
            {{ form.hidden_tag() }}
            <div class="row g-2 mb-2">
                <div class="col-md-12">
                    <div class="form-floating mb-2">
                        {{ form.start_dt(
                            class="form-control",
                            type="datetime-local",
                            placeholder="Start Date and Time"
                        ) }}
                        {{ form.start_dt.label(class="form-label") }}
                        {% for error in form.start_dt.errors %}
                            <div class="text-danger small">{{ error }}</div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="row g-2 mb-2">
                <div class="col-md-4">
                    <div class="form-floating mb-2">
                        {{ form.duration_min(class="form-control", placeholder="Duration (minutes)") }}
                        {{ form.duration_min.label(class="form-label") }}
                        {% for error in form.duration_min.errors %}
                            <div class="text-danger small">{{ error }}</div>
                        {% endfor %}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-floating mb-2">
                        {{ form.mode(
                            class="form-select",
                            placeholder="Session Mode"
                        ) }}
                        {{ form.mode.label(class="form-label") }}
                        {% for error in form.mode.errors %}
                            <div class="text-danger small">{{ error }}</div>
                        {% endfor %}
                    </div> 
                </div>
                <div class="col-md-4">
                    <div id="price-wrapper">
                        <div class="form-floating mb-2">
                            {{ form.price(class="form-control", placeholder="Session Price") }}
                            {{ form.price.label(class="form-label") }}
                            {% for error in form.price.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-floating mb-2">
                {{ form.notes(
                    class="form-control", 
                    placeholder="Session Notes (Optional)"
                ) }}
                {{ form.notes.label(class="form-label") }}
                {% for error in form.notes.errors %}
                    <div class="text-danger small">{{ error }}</div>
                {% endfor %}
            </div>
            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('.sessions') }}" class="btn btn-outline-primary">
                    <i class="bi bi-arrow-return-left"></i> Sessions
                </a>
                {{ form.submit(class="btn btn-primary px-3") }}
            </div>
        </form>
{% endblock %}